<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>English Phonetics Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Poppins', sans-serif;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="text/babel" data-type="module">
import React, { useState, useEffect, useCallback, useMemo } from 'react';
import ReactDOM from 'react-dom/client';

// Data from data/phonetics.ts
const phoneticData = [
  {
    title: '5 NguyÃªn Ã¢m (Ã‚m Ngáº¯n - Short Vowels)',
    sounds: [
      {
        letter: 'A',
        sound: '/Ã¦/',
        title: 'Chá»¯ A (Ã¢m ngáº¯n /Ã¦/ - "a báº¹t")',
        description: 'Ã‚m nÃ y giá»‘ng nhÆ° khi báº¡n nÃ³i "a" nhÆ°ng má»Ÿ miá»‡ng rá»™ng hÆ¡n má»™t chÃºt, bÃ¨ sang hai bÃªn.',
        examples: [
          { word: 'apple', phonetic: "/'Ã¦pÉ™l/", meaning: 'quáº£ tÃ¡o', emoji: 'ðŸŽ' },
          { word: 'cat', phonetic: '/kÃ¦t/', meaning: 'con mÃ¨o', emoji: 'ðŸˆ' },
          { word: 'map', phonetic: '/mÃ¦p/', meaning: 'báº£n Ä‘á»“', emoji: 'ðŸ—ºï¸' },
          { word: 'bag', phonetic: '/bÃ¦g/', meaning: 'cÃ¡i tÃºi', emoji: 'ðŸ‘œ' },
          { word: 'hat', phonetic: '/hÃ¦t/', meaning: 'cÃ¡i mÅ©', emoji: 'ðŸŽ©' },
        ],
      },
      {
        letter: 'E',
        sound: '/e/',
        title: 'Chá»¯ E (Ã¢m ngáº¯n /e/)',
        description: 'Ã‚m nÃ y nghe tÆ°Æ¡ng tá»± nhÆ° "e" trong tiáº¿ng Viá»‡t.',
        examples: [
          { word: 'egg', phonetic: '/eg/', meaning: 'quáº£ trá»©ng', emoji: 'ðŸ¥š' },
          { word: 'pen', phonetic: '/pen/', meaning: 'cÃ¡i bÃºt má»±c', emoji: 'ðŸ–Šï¸' },
          { word: 'bed', phonetic: '/bed/', meaning: 'cÃ¡i giÆ°á»ng', emoji: 'ðŸ›ï¸' },
          { word: 'net', phonetic: '/net/', meaning: 'cÃ¡i lÆ°á»›i', emoji: 'ðŸ•¸ï¸' },
          { word: 'red', phonetic: '/red/', meaning: 'mÃ u Ä‘á»', emoji: 'ðŸ”´' },
        ],
      },
      {
        letter: 'I',
        sound: '/Éª/',
        title: 'Chá»¯ I (Ã¢m ngáº¯n /Éª/)',
        description: 'Ã‚m nÃ y khÃ´ng giá»‘ng "i" tiáº¿ng Viá»‡t. NÃ³ ngáº¯n vÃ  dá»©t khoÃ¡t, gáº§n giá»‘ng "i" vÃ  "Æ°" (hÆ¡i nghiÃªng vá» "i").',
        examples: [
          { word: 'in', phonetic: '/Éªn/', meaning: 'á»Ÿ trong', emoji: 'ðŸ“¥' },
          { word: 'sit', phonetic: '/sÉªt/', meaning: 'ngá»“i', emoji: 'ðŸ§˜' },
          { word: 'pin', phonetic: '/pÉªn/', meaning: 'cÃ¡i ghim', emoji: 'ðŸ“Œ' },
          { word: 'big', phonetic: '/bÉªg/', meaning: 'to lá»›n', emoji: 'ðŸ˜' },
          { word: 'fish', phonetic: '/fÉªÊƒ/', meaning: 'con cÃ¡', emoji: 'ðŸŸ' },
        ],
      },
      {
        letter: 'O',
        sound: '/É’/',
        title: 'Chá»¯ O (Ã¢m ngáº¯n /É’/ - giá»ng Anh-Anh)',
        description: 'Ã‚m nÃ y trÃ²n mÃ´i, dá»©t khoÃ¡t, giá»‘ng nhÆ° "o" trong tiáº¿ng Viá»‡t.',
        examples: [
          { word: 'on', phonetic: '/É’n/', meaning: 'á»Ÿ trÃªn', emoji: 'ðŸ”›' },
          { word: 'dog', phonetic: '/dÉ’g/', meaning: 'con chÃ³', emoji: 'ðŸ•' },
          { word: 'hot', phonetic: '/hÉ’t/', meaning: 'nÃ³ng', emoji: 'ðŸ”¥' },
          { word: 'box', phonetic: '/bÉ’ks/', meaning: 'cÃ¡i há»™p', emoji: 'ðŸ“¦' },
          { word: 'mop', phonetic: '/mÉ’p/', meaning: 'cÃ¢y lau nhÃ ', emoji: 'ðŸ§¹' },
        ],
      },
      {
        letter: 'U',
        sound: '/ÊŒ/',
        title: 'Chá»¯ U (Ã¢m ngáº¯n /ÊŒ/)',
        description: 'Ã‚m nÃ y giá»‘ng "Æ¡" hoáº·c "Äƒ" trong tiáº¿ng Viá»‡t (hÆ¡i nghiÃªng vá» "Äƒ" nhiá»u hÆ¡n).',
        examples: [
          { word: 'up', phonetic: '/ÊŒp/', meaning: 'á»Ÿ trÃªn', emoji: 'â¬†ï¸' },
          { word: 'cup', phonetic: '/kÊŒp/', meaning: 'cÃ¡i cá»‘c', emoji: 'ðŸ†' },
          { word: 'sun', phonetic: '/sÊŒn/', meaning: 'máº·t trá»i', emoji: 'â˜€ï¸' },
          { word: 'bus', phonetic: '/bÊŒs/', meaning: 'xe buÃ½t', emoji: 'ðŸšŒ' },
          { word: 'run', phonetic: '/rÊŒn/', meaning: 'cháº¡y', emoji: 'ðŸƒ' },
        ],
      },
    ],
  },
  {
    title: '5 Phá»¥ Ã¢m (Ã‚m CÆ¡ báº£n)',
    sounds: [
      {
        letter: 'B',
        sound: '/b/',
        title: 'Chá»¯ B (Ã¢m /b/)',
        description: 'PhÃ¡t Ã¢m giá»‘ng "b" trong tiáº¿ng Viá»‡t.',
        examples: [
          { word: 'boy', phonetic: '/bÉ”Éª/', meaning: 'cáº­u bÃ©', emoji: 'ðŸ‘¦' },
          { word: 'bag', phonetic: '/bÃ¦g/', meaning: 'cÃ¡i tÃºi', emoji: 'ðŸ‘œ' },
          { word: 'bed', phonetic: '/bed/', meaning: 'cÃ¡i giÆ°á»ng', emoji: 'ðŸ›ï¸' },
          { word: 'bus', phonetic: '/bÊŒs/', meaning: 'xe buÃ½t', emoji: 'ðŸšŒ' },
          { word: 'job', phonetic: '/dÊ’É’b/', meaning: 'cÃ´ng viá»‡c', emoji: 'ðŸ’¼' },
        ],
      },
       {
        letter: 'M',
        sound: '/m/',
        title: 'Chá»¯ M (Ã¢m /m/)',
        description: 'PhÃ¡t Ã¢m giá»‘ng "m" trong tiáº¿ng Viá»‡t.',
        examples: [
          { word: 'man', phonetic: '/mÃ¦n/', meaning: 'ngÆ°á»i Ä‘Ã n Ã´ng', emoji: 'ðŸ‘¨' },
          { word: 'map', phonetic: '/mÃ¦p/', meaning: 'báº£n Ä‘á»“', emoji: 'ðŸ—ºï¸' },
          { word: 'mom', phonetic: '/mÉ’m/', meaning: 'máº¹', emoji: 'ðŸ‘©â€ðŸ‘§' },
          { word: 'milk', phonetic: '/mÉªlk/', meaning: 'sá»¯a', emoji: 'ðŸ¥›' },
          { word: 'time', phonetic: '/taÉªm/', meaning: 'thá»i gian', emoji: 'â°' },
        ],
      },
       {
        letter: 'S',
        sound: '/s/',
        title: 'Chá»¯ S (Ã¢m /s/)',
        description: 'PhÃ¡t Ã¢m giá»‘ng "x" trong tiáº¿ng Viá»‡t.',
        examples: [
          { word: 'sun', phonetic: '/sÊŒn/', meaning: 'máº·t trá»i', emoji: 'â˜€ï¸' },
          { word: 'sit', phonetic: '/sÉªt/', meaning: 'ngá»“i', emoji: 'ðŸ§˜' },
          { word: 'sad', phonetic: '/sÃ¦d/', meaning: 'buá»“n', emoji: 'ðŸ˜¢' },
          { word: 'miss', phonetic: '/mÉªs/', meaning: 'nhá»›, bá» lá»¡', emoji: 'ðŸ‘‹' },
          { word: 'bus', phonetic: '/bÊŒs/', meaning: 'xe buÃ½t', emoji: 'ðŸšŒ' },
        ],
      },
       {
        letter: 'T',
        sound: '/t/',
        title: 'Chá»¯ T (Ã¢m /t/ - báº­t hÆ¡i)',
        description: 'Báº­t hÆ¡i máº¡nh hÆ¡n chá»¯ "t" tiáº¿ng Viá»‡t.',
        examples: [
          { word: 'top', phonetic: '/tÉ’p/', meaning: 'trÃªn Ä‘á»‰nh', emoji: 'ðŸ”' },
          { word: 'ten', phonetic: '/ten/', meaning: 'sá»‘ mÆ°á»i', emoji: 'ðŸ”Ÿ' },
          { word: 'tap', phonetic: '/tÃ¦p/', meaning: 'vÃ²i nÆ°á»›c', emoji: 'ðŸ’§' },
          { word: 'cat', phonetic: '/kÃ¦t/', meaning: 'con mÃ¨o', emoji: 'ðŸˆ' },
          { word: 'hot', phonetic: '/hÉ’t/', meaning: 'nÃ³ng', emoji: 'ðŸ”¥' },
        ],
      },
      {
        letter: 'P',
        sound: '/p/',
        title: 'Chá»¯ P (Ã¢m /p/ - báº­t hÆ¡i)',
        description: 'Báº­t hÆ¡i máº¡nh hÆ¡n chá»¯ "p" tiáº¿ng Viá»‡t.',
        examples: [
          { word: 'pen', phonetic: '/pen/', meaning: 'cÃ¡i bÃºt', emoji: 'ðŸ–Šï¸' },
          { word: 'pig', phonetic: '/pÉªg/', meaning: 'con lá»£n', emoji: 'ðŸ·' },
          { word: 'map', phonetic: '/mÃ¦p/', meaning: 'báº£n Ä‘á»“', emoji: 'ðŸ—ºï¸' },
          { word: 'stop', phonetic: '/stÉ’p/', meaning: 'dá»«ng láº¡i', emoji: 'ðŸ›‘' },
          { word: 'cup', phonetic: '/kÊŒp/', meaning: 'cÃ¡i cá»‘c', emoji: 'ðŸ†' },
        ],
      },
    ]
  },
  {
      title: 'Phá»¥ Ã¢m tiáº¿p theo (Ã‚m CÆ¡ báº£n)',
      sounds: [
        {
            letter: 'C',
            sound: '/k/',
            title: 'Chá»¯ C (Ã¢m cá»©ng /k/)',
            description: 'Ã‚m cá»©ng /k/: khi Ä‘i vá»›i a, o, u (nhÆ° cat, cold, cup).\nÃ‚m má»m /s/: khi Ä‘i vá»›i e, i, y (nhÆ° city, centre, cycle).',
            examples: [
              { word: 'cat', phonetic: '/kÃ¦t/', meaning: 'con mÃ¨o', emoji: 'ðŸˆ' },
              { word: 'cup', phonetic: '/kÊŒp/', meaning: 'cÃ¡i cá»‘c', emoji: 'ðŸ†' },
              { word: 'can', phonetic: '/kÃ¦n/', meaning: 'cÃ³ thá»ƒ, cÃ¡i lon', emoji: 'ðŸ¥«' },
              { word: 'car', phonetic: '/kÉ‘Ër/', meaning: 'xe Ã´ tÃ´', emoji: 'ðŸš—' },
              { word: 'cold', phonetic: '/kÉ™ÊŠld/', meaning: 'láº¡nh', emoji: 'ðŸ¥¶' },
            ],
        },
        {
            letter: 'C',
            sound: '/s/',
            title: 'Chá»¯ C (Ã¢m má»m /s/)',
            description: 'Khi Ä‘i vá»›i e, i, y (nhÆ° city, centre, cycle), chá»¯ C Ä‘Æ°á»£c phÃ¡t Ã¢m lÃ  /s/.',
            examples: [
              { word: 'city', phonetic: "/'sÉªti/", meaning: 'thÃ nh phá»‘', emoji: 'ðŸ™ï¸' },
              { word: 'cent', phonetic: '/sent/', meaning: 'Ä‘á»“ng xu', emoji: 'ðŸª™' },
              { word: 'face', phonetic: '/feÉªs/', meaning: 'khuÃ´n máº·t', emoji: 'ðŸ˜Š' },
              { word: 'nice', phonetic: '/naÉªs/', meaning: 'tá»‘t, Ä‘áº¹p', emoji: 'ðŸ‘' },
              { word: 'cycle', phonetic: "/'saÉªkl/", meaning: 'Ä‘áº¡p xe', emoji: 'ðŸš²' },
            ],
        },
        {
            letter: 'D',
            sound: '/d/',
            title: 'Chá»¯ D (Ã¢m /d/)',
            description: 'Ã‚m nÃ y giá»‘ng há»‡t chá»¯ "Ä‘" trong tiáº¿ng Viá»‡t.',
            examples: [
              { word: 'dog', phonetic: '/dÉ’g/', meaning: 'con chÃ³', emoji: 'ðŸ•' },
              { word: 'dad', phonetic: '/dÃ¦d/', meaning: 'bá»‘', emoji: 'ðŸ‘¨â€ðŸ‘§â€ðŸ‘¦' },
              { word: 'day', phonetic: '/deÉª/', meaning: 'ngÃ y', emoji: 'ðŸ“…' },
              { word: 'sad', phonetic: '/sÃ¦d/', meaning: 'buá»“n', emoji: 'ðŸ˜¢' },
              { word: 'bed', phonetic: '/bed/', meaning: 'cÃ¡i giÆ°á»ng', emoji: 'ðŸ›ï¸' },
            ],
        },
        {
            letter: 'F',
            sound: '/f/',
            title: 'Chá»¯ F (Ã¢m /f/)',
            description: 'Ã‚m nÃ y giá»‘ng há»‡t chá»¯ "ph" trong tiáº¿ng Viá»‡t (dÃ¹ng rÄƒng trÃªn cháº¡m nháº¹ mÃ´i dÆ°á»›i vÃ  thá»•i hÆ¡i).',
            examples: [
              { word: 'fan', phonetic: '/fÃ¦n/', meaning: 'cÃ¡i quáº¡t', emoji: 'ðŸŒ¬ï¸' },
              { word: 'fish', phonetic: '/fÉªÊƒ/', meaning: 'con cÃ¡', emoji: 'ðŸŸ' },
              { word: 'fat', phonetic: '/fÃ¦t/', meaning: 'bÃ©o', emoji: 'ðŸ”' },
              { word: 'for', phonetic: '/fÉ”Ër/', meaning: 'cho, vÃ¬', emoji: 'ðŸŽ' },
              { word: 'if', phonetic: '/Éªf/', meaning: 'náº¿u', emoji: 'ðŸ¤”' },
            ],
        },
        {
            letter: 'G',
            sound: '/g/',
            title: 'Chá»¯ G (Ã¢m cá»©ng /g/)',
            description: 'Ã‚m nÃ y giá»‘ng chá»¯ "g" trong tiáº¿ng Viá»‡t (nhÆ° trong "ga tÃ u").',
            examples: [
              { word: 'go', phonetic: '/gÉ™ÊŠ/', meaning: 'Ä‘i', emoji: 'âž¡ï¸' },
              { word: 'get', phonetic: '/get/', meaning: 'láº¥y, cÃ³ Ä‘Æ°á»£c', emoji: 'ðŸ¤' },
              { word: 'gas', phonetic: '/gÃ¦s/', meaning: 'khÃ­ gas', emoji: 'â›½' },
              { word: 'big', phonetic: '/bÉªg/', meaning: 'to lá»›n', emoji: 'ðŸ˜' },
              { word: 'dog', phonetic: '/dÉ’g/', meaning: 'con chÃ³', emoji: 'ðŸ•' },
            ],
        },
        {
            letter: 'G',
            sound: '/dÊ’/',
            title: 'Chá»¯ G (Ã¢m má»m /dÊ’/)',
            description: 'Khi Ä‘i vá»›i e, i, y (nhÆ° gym, giant), chá»¯ G thÆ°á»ng Ä‘Æ°á»£c phÃ¡t Ã¢m lÃ  /dÊ’/.',
            examples: [
              { word: 'gym', phonetic: '/dÊ’Éªm/', meaning: 'phÃ²ng táº­p', emoji: 'ðŸ‹ï¸' },
              { word: 'giant', phonetic: "/'dÊ’aÉªÉ™nt/", meaning: 'khá»•ng lá»“', emoji: 'ðŸ§â€â™‚ï¸' },
              { word: 'magic', phonetic: "/'mÃ¦dÊ’Éªk/", meaning: 'phÃ©p thuáº­t', emoji: 'ðŸª„' },
              { word: 'page', phonetic: '/peÉªdÊ’/', meaning: 'trang giáº¥y', emoji: 'ðŸ“„' },
              { word: 'large', phonetic: '/lÉ‘ËdÊ’/', meaning: 'rá»™ng lá»›n', emoji: 'â†”ï¸' },
            ],
        },
        {
            letter: 'H',
            sound: '/h/',
            title: 'Chá»¯ H (Ã¢m /h/)',
            description: 'Ã‚m nÃ y giá»‘ng há»‡t chá»¯ "h" trong tiáº¿ng Viá»‡t (Ã¢m nÃ y chá»‰ lÃ  má»™t luá»“ng hÆ¡i nháº¹).',
            examples: [
              { word: 'hat', phonetic: '/hÃ¦t/', meaning: 'cÃ¡i mÅ©', emoji: 'ðŸŽ©' },
              { word: 'hen', phonetic: '/hen/', meaning: 'con gÃ  mÃ¡i', emoji: 'ðŸ”' },
              { word: 'him', phonetic: '/hÉªm/', meaning: 'anh áº¥y, cáº­u áº¥y', emoji: 'ðŸ‘‰' },
              { word: 'hot', phonetic: '/hÉ’t/', meaning: 'nÃ³ng', emoji: 'ðŸ”¥' },
              { word: 'how', phonetic: '/haÊŠ/', meaning: 'nhÆ° tháº¿ nÃ o', emoji: 'â“' },
            ],
        },
        {
            letter: 'H',
            sound: '(cÃ¢m)',
            title: 'Chá»¯ H (Ã¢m cÃ¢m)',
            description: 'Chá»¯ H thÆ°á»ng lÃ  Ã¢m cÃ¢m khi nÃ³ Ä‘á»©ng sau cÃ¡c chá»¯ cÃ¡i w, c, g, r hoáº·c á»Ÿ Ä‘áº§u má»™t sá»‘ tá»« mÆ°á»£n tá»« tiáº¿ng PhÃ¡p.',
            examples: [
                { word: 'hour', phonetic: '/ËˆaÊŠÉ™r/', meaning: 'giá»', emoji: 'ðŸ•°ï¸' },
                { word: 'honest', phonetic: '/ËˆÉ’nÉªst/', meaning: 'trung thá»±c', emoji: 'ðŸ˜‡' },
                { word: 'honor', phonetic: '/ËˆÉ’nÉ™r/', meaning: 'danh dá»±', emoji: 'ðŸŽ–ï¸' },
                { word: 'what', phonetic: '/wÉ’t/', meaning: 'cÃ¡i gÃ¬', emoji: 'ðŸ¤”' },
                { word: 'ghost', phonetic: '/É¡É™ÊŠst/', meaning: 'con ma', emoji: 'ðŸ‘»' },
            ],
        },
      ]
  },
  {
    title: 'CÃ¡c phá»¥ Ã¢m khÃ¡c',
    sounds: [
        {
            letter: 'K',
            sound: '/k/',
            title: 'Chá»¯ K (Ã¢m /k/)',
            description: 'Ã‚m nÃ y phÃ¡t Ã¢m giá»‘ng há»‡t Ã¢m "cá»©ng" cá»§a chá»¯ C. ChÃºng lÃ  "anh em sinh Ä‘Ã´i" vá» Ã¢m thanh!',
            examples: [
                { word: 'key', phonetic: '/kiË/', meaning: 'chÃ¬a khÃ³a', emoji: 'ðŸ”‘' },
                { word: 'kid', phonetic: '/kÉªd/', meaning: 'Ä‘á»©a tráº»', emoji: 'ðŸ§’' },
                { word: 'kiss', phonetic: '/kÉªs/', meaning: 'hÃ´n', emoji: 'ðŸ˜˜' },
                { word: 'book', phonetic: '/bÊŠk/', meaning: 'quyá»ƒn sÃ¡ch', emoji: 'ðŸ“š' },
                { word: 'milk', phonetic: '/mÉªlk/', meaning: 'sá»¯a', emoji: 'ðŸ¥›' },
            ],
        },
        {
            letter: 'L',
            sound: '/l/',
            title: 'Chá»¯ L (Ã¢m /l/)',
            description: 'Ráº¥t giá»‘ng chá»¯ "l" trong tiáº¿ng Viá»‡t. Äáº·t Ä‘áº§u lÆ°á»¡i lÃªn pháº§n nÆ°á»›u ngay sau rÄƒng cá»­a trÃªn.',
            examples: [
                { word: 'leg', phonetic: '/leÉ¡/', meaning: 'cÃ¡i chÃ¢n', emoji: 'ðŸ¦µ' },
                { word: 'lip', phonetic: '/lÉªp/', meaning: 'cÃ¡i mÃ´i', emoji: 'ðŸ‘„' },
                { word: 'let', phonetic: '/let/', meaning: 'Ä‘á»ƒ cho', emoji: 'âœ…' },
                { word: 'like', phonetic: '/laÉªk/', meaning: 'thÃ­ch', emoji: 'ðŸ‘' },
                { word: 'fell', phonetic: '/fel/', meaning: 'ngÃ£', emoji: 'ðŸ¤¸â€â™‚ï¸' },
            ],
        },
        {
            letter: 'N',
            sound: '/n/',
            title: 'Chá»¯ N (Ã¢m /n/)',
            description: 'Ã‚m nÃ y giá»‘ng há»‡t chá»¯ "n" trong tiáº¿ng Viá»‡t.',
            examples: [
                { word: 'no', phonetic: '/nÉ™ÊŠ/', meaning: 'khÃ´ng', emoji: 'âŒ' },
                { word: 'net', phonetic: '/net/', meaning: 'cÃ¡i lÆ°á»›i', emoji: 'ðŸ•¸ï¸' },
                { word: 'nap', phonetic: '/nÃ¦p/', meaning: 'giáº¥c ngá»§ trÆ°a', emoji: 'ðŸ˜´' },
                { word: 'man', phonetic: '/mÃ¦n/', meaning: 'ngÆ°á»i Ä‘Ã n Ã´ng', emoji: 'ðŸ‘¨' },
                { word: 'sun', phonetic: '/sÊŒn/', meaning: 'máº·t trá»i', emoji: 'â˜€ï¸' },
            ],
        },
        {
            letter: 'R',
            sound: '/r/',
            title: 'Chá»¯ R (Ã¢m /r/)',
            description: 'Cong Ä‘áº§u lÆ°á»¡i lÃªn vá» phÃ­a vÃ²m há»ng, nhÆ°ng khÃ´ng cháº¡m vÃ o báº¥t cá»© Ä‘Ã¢u. MÃ´i hÆ¡i trÃ²n láº¡i.',
            examples: [
                { word: 'red', phonetic: '/red/', meaning: 'mÃ u Ä‘á»', emoji: 'ðŸ”´' },
                { word: 'run', phonetic: '/rÊŒn/', meaning: 'cháº¡y', emoji: 'ðŸƒ' },
                { word: 'rat', phonetic: '/rÃ¦t/', meaning: 'con chuá»™t', emoji: 'ðŸ€' },
                { word: 'rip', phonetic: '/rÉªp/', meaning: 'xÃ©, váº¿t rÃ¡ch', emoji: 'âœ‚ï¸' },
                { word: 'car', phonetic: '/kÉ‘Ër/', meaning: 'xe Ã´ tÃ´', emoji: 'ðŸš—' },
            ],
        },
        {
            letter: 'J',
            sound: '/dÊ’/',
            title: 'Chá»¯ J (Ã¢m /dÊ’/)',
            description: 'Giá»‘ng nhÆ° Ã¢m "gi" (nhÆ° trong "gia Ä‘Ã¬nh"), nhÆ°ng báº¡n cáº§n báº­t máº¡nh hÆ¡n má»™t chÃºt (giá»‘ng nhÆ° káº¿t há»£p "Ä‘" vÃ  "gi").',
            examples: [
                { word: 'jam', phonetic: '/dÊ’Ã¦m/', meaning: 'má»©t', emoji: 'ðŸ“' },
                { word: 'jet', phonetic: '/dÊ’et/', meaning: 'mÃ¡y bay pháº£n lá»±c', emoji: 'âœˆï¸' },
                { word: 'job', phonetic: '/dÊ’É’b/', meaning: 'cÃ´ng viá»‡c', emoji: 'ðŸ’¼' },
                { word: 'jug', phonetic: '/dÊ’ÊŒg/', meaning: 'cÃ¡i bÃ¬nh', emoji: 'ðŸº' },
                { word: 'jump', phonetic: '/dÊ’ÊŒmp/', meaning: 'nháº£y', emoji: 'ðŸ¤¸' },
            ],
        },
    ]
  },
  {
    title: '6 Chá»¯ cÃ¡i cuá»‘i cÃ¹ng',
    sounds: [
        {
            letter: 'Q',
            sound: '/kw/',
            title: 'Chá»¯ Q (thÆ°á»ng Ä‘i vá»›i U, Ã¢m /kw/)',
            description: 'Chá»¯ Q háº§u nhÆ° khÃ´ng bao giá» Ä‘á»©ng má»™t mÃ¬nh. NÃ³ luÃ´n Ä‘i cÃ¹ng chá»¯ U (qu) vÃ  táº¡o ra 2 Ã¢m thanh káº¿t há»£p: /k/ vÃ  /w/.',
            examples: [
                { word: 'queen', phonetic: '/kwiËn/', meaning: 'ná»¯ hoÃ ng', emoji: 'ðŸ‘‘' },
                { word: 'quick', phonetic: '/kwÉªk/', meaning: 'nhanh', emoji: 'âš¡' },
                { word: 'quiz', phonetic: '/kwÉªz/', meaning: 'cÃ¢u Ä‘á»‘', emoji: 'â“' },
                { word: 'quiet', phonetic: '/ËˆkwaÉªÉ™t/', meaning: 'yÃªn tÄ©nh', emoji: 'ðŸ¤«' },
                { word: 'quit', phonetic: '/kwÉªt/', meaning: 'tá»« bá»', emoji: 'ðŸš«' },
            ],
        },
        {
            letter: 'V',
            sound: '/v/',
            title: 'Chá»¯ V (Ã¢m /v/)',
            description: 'Äá»ƒ phÃ¡t Ã¢m chuáº©n, báº¡n hÃ£y Ä‘á»ƒ rÄƒng cá»­a trÃªn cháº¡m nháº¹ vÃ o mÃ´i dÆ°á»›i vÃ  rung cá»• há»ng.',
            examples: [
                { word: 'van', phonetic: '/vÃ¦n/', meaning: 'xe táº£i nhá»', emoji: 'ðŸš' },
                { word: 'vet', phonetic: '/vet/', meaning: 'bÃ¡c sÄ© thÃº y', emoji: 'ðŸ‘©â€âš•ï¸' },
                { word: 'very', phonetic: '/Ëˆveri/', meaning: 'ráº¥t', emoji: 'âœ¨' },
                { word: 'give', phonetic: '/É¡Éªv/', meaning: 'cho', emoji: 'ðŸŽ' },
                { word: 'save', phonetic: '/seÉªv/', meaning: 'lÆ°u, cá»©u', emoji: 'ðŸ’¾' },
            ],
        },
        {
            letter: 'W',
            sound: '/w/',
            title: 'Chá»¯ W (Ã¢m /w/)',
            description: 'Giá»‘ng nhÆ° báº¡n nÃ³i "u" nhÆ°ng ráº¥t nhanh rá»“i chuyá»ƒn sang Ã¢m tiáº¿p theo. Báº¡n cáº§n trÃ²n mÃ´i láº¡i.',
            examples: [
                { word: 'wet', phonetic: '/wet/', meaning: 'áº©m Æ°á»›t', emoji: 'ðŸ’§' },
                { word: 'win', phonetic: '/wÉªn/', meaning: 'tháº¯ng', emoji: 'ðŸ†' },
                { word: 'web', phonetic: '/web/', meaning: 'máº¡ng lÆ°á»›i', emoji: 'ðŸŒ' },
                { word: 'wow', phonetic: '/waÊŠ/', meaning: 'á»“!', emoji: 'ðŸ˜®' },
                { word: 'why', phonetic: '/waÉª/', meaning: 'táº¡i sao', emoji: 'â“' },
            ],
        },
        {
            letter: 'X',
            sound: '/ks/',
            title: 'Chá»¯ X (Ã¢m /ks/)',
            description: 'LÃ  má»™t chá»¯ cÃ¡i "tá»• há»£p"! NÃ³ táº¡o ra 2 Ã¢m thanh: /k/ vÃ  /s/ ghÃ©p láº¡i. Ã‚m nÃ y thÆ°á»ng xuáº¥t hiá»‡n á»Ÿ cuá»‘i tá»«.',
            examples: [
                { word: 'box', phonetic: '/bÉ’ks/', meaning: 'cÃ¡i há»™p', emoji: 'ðŸ“¦' },
                { word: 'fox', phonetic: '/fÉ’ks/', meaning: 'con cÃ¡o', emoji: 'ðŸ¦Š' },
                { word: 'six', phonetic: '/sÉªks/', meaning: 'sá»‘ sÃ¡u', emoji: '6ï¸âƒ£' },
                { word: 'mix', phonetic: '/mÉªks/', meaning: 'trá»™n láº«n', emoji: 'ðŸ¥£' },
                { word: 'wax', phonetic: '/wÃ¦ks/', meaning: 'sÃ¡p', emoji: 'ðŸ•¯ï¸' },
            ],
        },
        {
            letter: 'Y',
            sound: '/j/',
            title: 'Chá»¯ Y (Ã¢m /j/ - khi lÃ  phá»¥ Ã¢m)',
            description: 'Khi lÃ  phá»¥ Ã¢m (thÆ°á»ng Ä‘á»©ng Ä‘áº§u tá»«), nÃ³ táº¡o ra Ã¢m /j/. Giá»‘ng nhÆ° "d" trong "du lá»‹ch" hoáº·c "gi" trong "gia Ä‘Ã¬nh".',
            examples: [
                { word: 'yes', phonetic: '/jes/', meaning: 'vÃ¢ng, Ä‘Ãºng', emoji: 'âœ…' },
                { word: 'you', phonetic: '/juË/', meaning: 'báº¡n', emoji: 'ðŸ‘‰' },
                { word: 'yet', phonetic: '/jet/', meaning: 'chÆ°a', emoji: 'â³' },
                { word: 'yam', phonetic: '/jÃ¦m/', meaning: 'khoai má»¡', emoji: 'ðŸ ' },
                { word: 'yell', phonetic: '/jel/', meaning: 'la hÃ©t', emoji: 'ðŸ—£ï¸' },
            ],
        },
        {
            letter: 'Z',
            sound: '/z/',
            title: 'Chá»¯ Z (Ã¢m /z/)',
            description: 'LÃ  "ngÆ°á»i anh em" cá»§a Ã¢m /s/. Cáº£ hai Ä‘á»u luá»“ng hÆ¡i qua káº½ rÄƒng, nhÆ°ng /z/ cÃ³ rung cá»• há»ng (giá»‘ng nhÆ° tiáº¿ng vo ve cá»§a con ong).',
            examples: [
                { word: 'zoo', phonetic: '/zuË/', meaning: 'sá»Ÿ thÃº', emoji: 'ðŸ¦“' },
                { word: 'zip', phonetic: '/zÉªp/', meaning: 'khÃ³a kÃ©o', emoji: 'ðŸ¤' },
                { word: 'zero', phonetic: '/ËˆzÉªÉ™rÉ™ÊŠ/', meaning: 'sá»‘ khÃ´ng', emoji: '0ï¸âƒ£' },
                { word: 'buzz', phonetic: '/bÊŒz/', meaning: 'tiáº¿ng vo ve', emoji: 'ðŸ' },
                { word: 'quiz', phonetic: '/kwÉªz/', meaning: 'cÃ¢u Ä‘á»‘', emoji: 'â“' },
            ],
        },
    ]
  },
  {
    title: 'Digraphs (2 Chá»¯ cÃ¡i, 1 Ã‚m má»›i)',
    sounds: [
        {
            letter: 'sh',
            sound: '/Êƒ/',
            title: 'Digraph: sh',
            description: 'Táº¡o ra Ã¢m /Êƒ/ - "s" náº·ng, nhÆ° khi báº¡n nÃ³i "suá»µt, im láº·ng nÃ o!".',
            examples: [
                { word: 'ship', phonetic: '/ÊƒÉªp/', meaning: 'con tÃ u', emoji: 'ðŸš¢' },
                { word: 'shop', phonetic: '/ÊƒÉ’p/', meaning: 'cá»­a hÃ ng', emoji: 'ðŸ›ï¸' },
                { word: 'fish', phonetic: '/fÉªÊƒ/', meaning: 'con cÃ¡', emoji: 'ðŸŸ' },
                { word: 'cash', phonetic: '/kÃ¦Êƒ/', meaning: 'tiá»n máº·t', emoji: 'ðŸ’µ' },
            ],
        },
        {
            letter: 'ch',
            sound: '/tÊƒ/',
            title: 'Digraph: ch',
            description: 'Táº¡o ra Ã¢m /tÊƒ/ - "ch" nháº¹, nhÆ° trong "cha", "chÃº".',
            examples: [
                { word: 'chip', phonetic: '/tÊƒÉªp/', meaning: 'khoai tÃ¢y chiÃªn', emoji: 'ðŸŸ' },
                { word: 'chin', phonetic: '/tÊƒÉªn/', meaning: 'cÃ¡i cáº±m', emoji: 'ðŸ˜Š' },
                { word: 'chat', phonetic: '/tÊƒÃ¦t/', meaning: 'nÃ³i chuyá»‡n', emoji: 'ðŸ’¬' },
                { word: 'rich', phonetic: '/rÉªtÊƒ/', meaning: 'giÃ u cÃ³', emoji: 'ðŸ’°' },
            ],
        },
        {
            letter: 'th',
            sound: '/Î¸/ or /Ã°/',
            title: 'Digraph: th',
            description: 'ÄÃ¢y lÃ  Ã¢m khÃ³, báº¡n pháº£i Ä‘áº·t lÆ°á»¡i giá»¯a hai hÃ m rÄƒng.\n/Î¸/: thá»•i hÆ¡i khÃ´ng rung (thin, math).\n/Ã°/: thá»•i hÆ¡i vÃ  rung cá»• há»ng (this, that).',
            examples: [
                { word: 'thin', phonetic: '/Î¸Éªn/', meaning: 'má»ng, gáº§y', emoji: 'ðŸœ' },
                { word: 'math', phonetic: '/mÃ¦Î¸/', meaning: 'mÃ´n toÃ¡n', emoji: 'ðŸ§®' },
                { word: 'this', phonetic: '/Ã°Éªs/', meaning: 'cÃ¡i nÃ y', emoji: 'ðŸ‘‡' },
                { word: 'with', phonetic: '/wÉªÃ°/', meaning: 'vá»›i', emoji: 'ðŸ¤' },
            ],
        },
        {
            letter: 'wh',
            sound: '/w/',
            title: 'Digraph: wh',
            description: 'Táº¡o ra Ã¢m /w/ - giá»‘ng há»‡t chá»¯ \'w\'. HÃ£y tÆ°á»Ÿng tÆ°á»£ng báº¡n Ä‘ang thá»•i má»™t ngá»n náº¿n.',
            examples: [
                { word: 'whip', phonetic: '/wÉªp/', meaning: 'cÃ¡i roi da', emoji: 'ðŸ¤ ' },
                { word: 'when', phonetic: '/wen/', meaning: 'khi nÃ o', emoji: 'ðŸ¤”' },
                { word: 'which', phonetic: '/wÉªtÊƒ/', meaning: 'cÃ¡i nÃ o', emoji: 'â“' },
            ],
        },
        {
            letter: 'ph',
            sound: '/f/',
            title: 'Digraph: ph',
            description: 'Tá»• há»£p nÃ y ráº¥t thÃº vá»‹! NÃ³ táº¡o ra Ã¢m /f/, giá»‘ng há»‡t chá»¯ \'f\'.',
            examples: [
                { word: 'phone', phonetic: '/fÉ™ÊŠn/', meaning: 'Ä‘iá»‡n thoáº¡i', emoji: 'ðŸ“±' },
                { word: 'graph', phonetic: '/É¡rÃ¦f/', meaning: 'biá»ƒu Ä‘á»“', emoji: 'ðŸ“Š' },
                { word: 'dolphin', phonetic: '/ËˆdÉ’lfÉªn/', meaning: 'cÃ¡ heo', emoji: 'ðŸ¬' },
            ],
        },
    ]
  },
  {
      title: 'Tá»• há»£p phá»¥ Ã¢m Ä‘áº§u (Blends)',
      sounds: [
          {
              letter: 'bl', sound: '/bl/', title: 'L-Blend: bl', description: 'PhÃ¡t Ã¢m /b/ rá»“i "trÆ°á»£t" nhanh sang /l/. B-L, bl.',
              examples: [
                  { word: 'black', phonetic: '/blÃ¦k/', meaning: 'mÃ u Ä‘en', emoji: 'â¬›' },
                  { word: 'block', phonetic: '/blÉ’k/', meaning: 'khá»‘i', emoji: 'ðŸ§±' },
                  { word: 'bled', phonetic: '/bled/', meaning: 'Ä‘Ã£ cháº£y mÃ¡u', emoji: 'ðŸ©¸' },
              ],
          },
          {
              letter: 'cl', sound: '/kl/', title: 'L-Blend: cl', description: 'PhÃ¡t Ã¢m /k/ rá»“i "trÆ°á»£t" nhanh sang /l/. C-L, cl.',
              examples: [
                  { word: 'clap', phonetic: '/klÃ¦p/', meaning: 'vá»— tay', emoji: 'ðŸ‘' },
                  { word: 'clip', phonetic: '/klÉªp/', meaning: 'cÃ¡i káº¹p', emoji: 'ðŸ“Ž' },
                  { word: 'clock', phonetic: '/klÉ’k/', meaning: 'Ä‘á»“ng há»“', emoji: 'â°' },
              ],
          },
          {
              letter: 'fl', sound: '/fl/', title: 'L-Blend: fl', description: 'PhÃ¡t Ã¢m /f/ rá»“i "trÆ°á»£t" nhanh sang /l/. F-L, fl.',
              examples: [
                  { word: 'flag', phonetic: '/flÃ¦É¡/', meaning: 'lÃ¡ cá»', emoji: 'ðŸš©' },
                  { word: 'flat', phonetic: '/flÃ¦t/', meaning: 'báº±ng pháº³ng', emoji: 'ðŸžï¸' },
                  { word: 'flip', phonetic: '/flÉªp/', meaning: 'láº­t', emoji: 'ðŸ¤¸' },
              ],
          },
          {
              letter: 'gl', sound: '/gl/', title: 'L-Blend: gl', description: 'PhÃ¡t Ã¢m /g/ rá»“i "trÆ°á»£t" nhanh sang /l/. G-L, gl.',
              examples: [
                  { word: 'glad', phonetic: '/É¡lÃ¦d/', meaning: 'vui má»«ng', emoji: 'ðŸ˜„' },
                  { word: 'glass', phonetic: '/É¡lÉ‘Ës/', meaning: 'cÃ¡i ly', emoji: ' à¤—à¤¿à¤²à¤¾à¤¸' },
                  { word: 'glum', phonetic: '/É¡lÊŒm/', meaning: 'á»§ rÅ©', emoji: 'ðŸ˜ž' },
              ],
          },
          {
              letter: 'pl', sound: '/pl/', title: 'L-Blend: pl', description: 'PhÃ¡t Ã¢m /p/ rá»“i "trÆ°á»£t" nhanh sang /l/. P-L, pl.',
              examples: [
                  { word: 'plan', phonetic: '/plÃ¦n/', meaning: 'káº¿ hoáº¡ch', emoji: 'ðŸ—“ï¸' },
                  { word: 'plug', phonetic: '/plÊŒÉ¡/', meaning: 'phÃ­ch cáº¯m', emoji: 'ðŸ”Œ' },
                  { word: 'plot', phonetic: '/plÉ’t/', meaning: 'cá»‘t truyá»‡n', emoji: 'ðŸ“œ' },
              ],
          },
          {
              letter: 'sl', sound: '/sl/', title: 'L-Blend: sl', description: 'PhÃ¡t Ã¢m /s/ rá»“i "trÆ°á»£t" nhanh sang /l/. S-L, sl.',
              examples: [
                  { word: 'slip', phonetic: '/slÉªp/', meaning: 'trÆ°á»£t ngÃ£', emoji: 'ðŸŒ' },
                  { word: 'sled', phonetic: '/sled/', meaning: 'xe trÆ°á»£t tuyáº¿t', emoji: 'ðŸ›·' },
                  { word: 'slug', phonetic: '/slÊŒÉ¡/', meaning: 'con sÃªn', emoji: 'ðŸŒ' },
              ],
          },
          {
              letter: 'br', sound: '/br/', title: 'R-Blend: br', description: 'PhÃ¡t Ã¢m /b/ rá»“i "trÆ°á»£t" nhanh sang /r/. B-R, br.',
              examples: [
                  { word: 'brag', phonetic: '/brÃ¦É¡/', meaning: 'khoe khoang', emoji: 'ðŸ˜' },
                  { word: 'bred', phonetic: '/bred/', meaning: 'Ä‘Ã£ sinh sáº£n', emoji: 'ðŸ£' },
                  { word: 'brim', phonetic: '/brÉªm/', meaning: 'vÃ nh mÅ©', emoji: 'ðŸ‘’' },
              ],
          },
          {
              letter: 'cr', sound: '/kr/', title: 'R-Blend: cr', description: 'PhÃ¡t Ã¢m /k/ rá»“i "trÆ°á»£t" nhanh sang /r/. C-R, cr.',
              examples: [
                  { word: 'crab', phonetic: '/krÃ¦b/', meaning: 'con cua', emoji: 'ðŸ¦€' },
                  { word: 'crib', phonetic: '/krÉªb/', meaning: 'cÃ¡i cÅ©i', emoji: 'ðŸ‘¶' },
                  { word: 'crop', phonetic: '/krÉ’p/', meaning: 'vá»¥ mÃ¹a', emoji: 'ðŸŒ¾' },
              ],
          },
          {
              letter: 'dr', sound: '/dr/', title: 'R-Blend: dr', description: 'PhÃ¡t Ã¢m /d/ rá»“i "trÆ°á»£t" nhanh sang /r/. D-R, dr.',
              examples: [
                  { word: 'drag', phonetic: '/drÃ¦É¡/', meaning: 'kÃ©o lÃª', emoji: 'ðŸ’ª' },
                  { word: 'drop', phonetic: '/drÉ’p/', meaning: 'rÆ¡i, giá»t', emoji: 'ðŸ’§' },
                  { word: 'drum', phonetic: '/drÊŒm/', meaning: 'cÃ¡i trá»‘ng', emoji: 'ðŸ¥' },
              ],
          },
          {
              letter: 'fr', sound: '/fr/', title: 'R-Blend: fr', description: 'PhÃ¡t Ã¢m /f/ rá»“i "trÆ°á»£t" nhanh sang /r/. F-R, fr.',
              examples: [
                  { word: 'frog', phonetic: '/frÉ’É¡/', meaning: 'con áº¿ch', emoji: 'ðŸ¸' },
                  { word: 'from', phonetic: '/frÉ’m/', meaning: 'tá»«', emoji: 'âž¡ï¸' },
                  { word: 'fret', phonetic: '/fret/', meaning: 'bÄƒn khoÄƒn', emoji: 'ðŸ˜Ÿ' },
              ],
          },
          {
              letter: 'gr', sound: '/gr/', title: 'R-Blend: gr', description: 'PhÃ¡t Ã¢m /g/ rá»“i "trÆ°á»£t" nhanh sang /r/. G-R, gr.',
              examples: [
                  { word: 'grin', phonetic: '/É¡rÉªn/', meaning: 'cÆ°á»i toe toÃ©t', emoji: 'ðŸ˜' },
                  { word: 'grab', phonetic: '/É¡rÃ¦b/', meaning: 'chá»™p láº¥y', emoji: 'âœ‹' },
                  { word: 'grub', phonetic: '/É¡rÊŒb/', meaning: 'sÃ¢u bá»', emoji: 'ðŸ›' },
              ],
          },
          {
              letter: 'pr', sound: '/pr/', title: 'R-Blend: pr', description: 'PhÃ¡t Ã¢m /p/ rá»“i "trÆ°á»£t" nhanh sang /r/. P-R, pr.',
              examples: [
                  { word: 'prop', phonetic: '/prÉ’p/', meaning: 'Ä‘áº¡o cá»¥', emoji: 'ðŸŽ­' },
                  { word: 'prim', phonetic: '/prÉªm/', meaning: 'ká»¹ tÃ­nh', emoji: 'ðŸ§' },
                  { word: 'press', phonetic: '/pres/', meaning: 'áº¥n, Ã©p', emoji: 'ðŸ‘‡' },
              ],
          },
          {
              letter: 'tr', sound: '/tr/', title: 'R-Blend: tr', description: 'PhÃ¡t Ã¢m /t/ rá»“i "trÆ°á»£t" nhanh sang /r/. T-R, tr.',
              examples: [
                  { word: 'trip', phonetic: '/trÉªp/', meaning: 'chuyáº¿n Ä‘i', emoji: 'âœˆï¸' },
                  { word: 'trap', phonetic: '/trÃ¦p/', meaning: 'cÃ¡i báº«y', emoji: 'ðŸª¤' },
                  { word: 'trim', phonetic: '/trÉªm/', meaning: 'cáº¯t tá»‰a', emoji: 'âœ‚ï¸' },
              ],
          },
          {
              letter: 'sc', sound: '/sk/', title: 'S-Blend: sc', description: 'PhÃ¡t Ã¢m /s/ rá»“i "trÆ°á»£t" nhanh sang /k/. S-C, sc.',
              examples: [
                  { word: 'scab', phonetic: '/skÃ¦b/', meaning: 'váº£y (váº¿t thÆ°Æ¡ng)', emoji: 'ðŸ©¹' },
                  { word: 'scan', phonetic: '/skÃ¦n/', meaning: 'quÃ©t', emoji: 'ðŸ“ ' },
              ],
          },
          {
              letter: 'sk', sound: '/sk/', title: 'S-Blend: sk', description: 'PhÃ¡t Ã¢m /s/ rá»“i "trÆ°á»£t" nhanh sang /k/. S-K, sk.',
              examples: [
                  { word: 'skip', phonetic: '/skÉªp/', meaning: 'nháº£y dÃ¢y, bá» qua', emoji: 'ðŸ¤¸â€â™€ï¸' },
                  { word: 'skin', phonetic: '/skÉªn/', meaning: 'da', emoji: 'ðŸ–ï¸' },
                  { word: 'skit', phonetic: '/skÉªt/', meaning: 'vá»Ÿ ká»‹ch ngáº¯n', emoji: 'ðŸŽ¬' },
              ],
          },
          {
              letter: 'sm', sound: '/sm/', title: 'S-Blend: sm', description: 'PhÃ¡t Ã¢m /s/ rá»“i "trÆ°á»£t" nhanh sang /m/. S-M, sm.',
              examples: [
                  { word: 'smell', phonetic: '/smel/', meaning: 'ngá»­i', emoji: 'ðŸ‘ƒ' },
                  { word: 'smog', phonetic: '/smÉ’É¡/', meaning: 'khÃ³i bá»¥i', emoji: 'ðŸŒ«ï¸' },
              ],
          },
          {
              letter: 'sn', sound: '/sn/', title: 'S-Blend: sn', description: 'PhÃ¡t Ã¢m /s/ rá»“i "trÆ°á»£t" nhanh sang /n/. S-N, sn.',
              examples: [
                  { word: 'snap', phonetic: '/snÃ¦p/', meaning: 'bÃºng tay', emoji: 'ðŸ«°' },
                  { word: 'snip', phonetic: '/snÉªp/', meaning: 'cáº¯t', emoji: 'âœ‚ï¸' },
                  { word: 'snug', phonetic: '/snÊŒÉ¡/', meaning: 'áº¥m cÃºng', emoji: 'ðŸ¤—' },
              ],
          },
          {
              letter: 'sp', sound: '/sp/', title: 'S-Blend: sp', description: 'PhÃ¡t Ã¢m /s/ rá»“i "trÆ°á»£t" nhanh sang /p/. S-P, sp.',
              examples: [
                  { word: 'spin', phonetic: '/spÉªn/', meaning: 'xoay', emoji: 'ðŸ’«' },
                  { word: 'spot', phonetic: '/spÉ’t/', meaning: 'dáº¥u cháº¥m', emoji: 'âš«' },
                  { word: 'spell', phonetic: '/spel/', meaning: 'Ä‘Ã¡nh váº§n', emoji: 'ðŸ”¤' },
              ],
          },
          {
              letter: 'st', sound: '/st/', title: 'S-Blend: st', description: 'PhÃ¡t Ã¢m /s/ rá»“i "trÆ°á»£t" nhanh sang /t/. S-T, st.',
              examples: [
                  { word: 'stop', phonetic: '/stÉ’p/', meaning: 'dá»«ng láº¡i', emoji: 'ðŸ›‘' },
                  { word: 'stem', phonetic: '/stem/', meaning: 'thÃ¢n cÃ¢y', emoji: 'ðŸŒ¿' },
                  { word: 'stun', phonetic: '/stÊŒn/', meaning: 'lÃ m choÃ¡ng', emoji: 'ðŸ˜µ' },
              ],
          },
          {
              letter: 'sw', sound: '/sw/', title: 'S-Blend: sw', description: 'PhÃ¡t Ã¢m /s/ rá»“i "trÆ°á»£t" nhanh sang /w/. S-W, sw.',
              examples: [
                  { word: 'swim', phonetic: '/swÉªm/', meaning: 'bÆ¡i', emoji: 'ðŸŠ' },
                  { word: 'swat', phonetic: '/swÉ’t/', meaning: 'Ä‘áº­p (ruá»“i)', emoji: 'ðŸ¦Ÿ' },
                  { word: 'swig', phonetic: '/swÉªÉ¡/', meaning: 'uá»‘ng á»«ng á»±c', emoji: 'ðŸ¥¤' },
              ],
          },
      ],
  },
  {
      title: 'Tá»• há»£p 3 chá»¯ cÃ¡i & Äáº·c biá»‡t',
      sounds: [
          {
              letter: 'spl', sound: '/spl/', title: 'Tá»• há»£p 3 chá»¯ cÃ¡i: spl', description: 'ÄÃ¢y lÃ  tá»• há»£p 3 chá»¯ cÃ¡i! S-P-L, spl.',
              examples: [
                  { word: 'splash', phonetic: '/splÃ¦Êƒ/', meaning: 'tÃ© nÆ°á»›c', emoji: 'ðŸ’¦' },
                  { word: 'split', phonetic: '/splÉªt/', meaning: 'chia ra', emoji: 'ìª¼ê°œë‹¤' },
                  { word: 'splint', phonetic: '/splÉªnt/', meaning: 'cÃ¡i náº¹p', emoji: 'ê¹ìŠ¤' },
              ],
          },
          {
              letter: 'spr', sound: '/spr/', title: 'Tá»• há»£p 3 chá»¯ cÃ¡i: spr', description: 'ÄÃ¢y lÃ  tá»• há»£p 3 chá»¯ cÃ¡i! S-P-R, spr.',
              examples: [
                  { word: 'spray', phonetic: '/spreÉª/', meaning: 'xá»‹t', emoji: 'ðŸ’¨' },
                  { word: 'spring', phonetic: '/sprÉªÅ‹/', meaning: 'mÃ¹a xuÃ¢n', emoji: 'ðŸŒ¸' },
                  { word: 'sprint', phonetic: '/sprÉªnt/', meaning: 'cháº¡y nÆ°á»›c rÃºt', emoji: 'ðŸƒðŸ’¨' },
              ],
          },
          {
              letter: 'str', sound: '/str/', title: 'Tá»• há»£p 3 chá»¯ cÃ¡i: str', description: 'ÄÃ¢y lÃ  tá»• há»£p 3 chá»¯ cÃ¡i! S-T-R, str.',
              examples: [
                  { word: 'strong', phonetic: '/strÉ’Å‹/', meaning: 'khá»e máº¡nh', emoji: 'ðŸ’ª' },
                  { word: 'street', phonetic: '/striËt/', meaning: 'Ä‘Æ°á»ng phá»‘', emoji: 'ðŸ›£ï¸' },
                  { word: 'string', phonetic: '/strÉªÅ‹/', meaning: 'sá»£i dÃ¢y', emoji: 'ðŸ§µ' },
              ],
          },
          {
              letter: 'scr', sound: '/skr/', title: 'Tá»• há»£p 3 chá»¯ cÃ¡i: scr', description: 'ÄÃ¢y lÃ  tá»• há»£p 3 chá»¯ cÃ¡i! S-C-R, scr.',
              examples: [
                  { word: 'scrub', phonetic: '/skrÊŒb/', meaning: 'cá» rá»­a', emoji: 'ðŸ§½' },
                  { word: 'scrap', phonetic: '/skrÃ¦p/', meaning: 'máº£nh vá»¥n', emoji: 'ðŸ—‘ï¸' },
                  { word: 'screen', phonetic: '/skriËn/', meaning: 'mÃ n hÃ¬nh', emoji: 'ðŸ–¥ï¸' },
              ],
          },
          {
              letter: 'shr', sound: '/Êƒr/', title: 'Tá»• há»£p Äáº·c biá»‡t: shr', description: 'Má»™t digraph (sh) káº¿t há»£p vá»›i má»™t phá»¥ Ã¢m (r)! SH-R, shr.',
              examples: [
                  { word: 'shrimp', phonetic: '/ÊƒrÉªmp/', meaning: 'con tÃ´m', emoji: 'ðŸ¦' },
                  { word: 'shrink', phonetic: '/ÊƒrÉªÅ‹k/', meaning: 'co láº¡i', emoji: 'ðŸ¤' },
                  { word: 'shrug', phonetic: '/ÊƒrÊŒÉ¡/', meaning: 'nhÃºn vai', emoji: 'ðŸ¤·' },
              ],
          },
          {
              letter: 'thr', sound: '/Î¸r/', title: 'Tá»• há»£p Äáº·c biá»‡t: thr', description: 'Má»™t digraph (th) káº¿t há»£p vá»›i má»™t phá»¥ Ã¢m (r)! TH-R, thr.',
              examples: [
                  { word: 'three', phonetic: '/Î¸riË/', meaning: 'sá»‘ ba', emoji: '3ï¸âƒ£' },
                  { word: 'throw', phonetic: '/Î¸rÉ™ÊŠ/', meaning: 'nÃ©m', emoji: 'ðŸ¥Ž' },
                  { word: 'throat', phonetic: '/Î¸rÉ™ÊŠt/', meaning: 'cá»• há»ng', emoji: 'ðŸ˜·' },
              ],
          },
          {
              letter: 'squ', sound: '/skw/', title: 'Tá»• há»£p Äáº·c biá»‡t: squ', description: 'Má»™t tá»• há»£p 3 trong 1 Ä‘áº·c biá»‡t! S-QU, squ.',
              examples: [
                  { word: 'squid', phonetic: '/skwÉªd/', meaning: 'con má»±c', emoji: 'ðŸ¦‘' },
                  { word: 'squash', phonetic: '/skwÉ’Êƒ/', meaning: 'bÃ­, Ã©p nÃ¡t', emoji: 'ðŸŽƒ' },
                  { word: 'square', phonetic: '/skweÉ™r/', meaning: 'hÃ¬nh vuÃ´ng', emoji: 'ðŸŸ§' },
              ],
          },
      ]
  },
  {
      title: 'Tá»• há»£p phá»¥ Ã¢m cuá»‘i (Ending Blends)',
      sounds: [
          {
              letter: 'nd', sound: '/nd/', title: 'Ending Blend: -nd', description: 'Káº¿t thÃºc báº±ng Ã¢m /n/ vÃ  /d/.',
              examples: [
                  { word: 'hand', phonetic: '/hÃ¦nd/', meaning: 'cÃ¡i tay', emoji: 'âœ‹' },
                  { word: 'sand', phonetic: '/sÃ¦nd/', meaning: 'cÃ¡t', emoji: 'ðŸ–ï¸' },
                  { word: 'find', phonetic: '/faÉªnd/', meaning: 'tÃ¬m tháº¥y', emoji: 'ðŸ”' },
              ],
          },
          {
              letter: 'nt', sound: '/nt/', title: 'Ending Blend: -nt', description: 'Káº¿t thÃºc báº±ng Ã¢m /n/ vÃ  /t/.',
              examples: [
                  { word: 'tent', phonetic: '/tent/', meaning: 'cÃ¡i lá»u', emoji: 'ðŸ•ï¸' },
                  { word: 'ant', phonetic: '/Ã¦nt/', meaning: 'con kiáº¿n', emoji: 'ðŸœ' },
                  { word: 'hunt', phonetic: '/hÊŒnt/', meaning: 'sÄƒn', emoji: 'ðŸ¹' },
              ],
          },
          {
              letter: 'nk', sound: '/Å‹k/', title: 'Ending Blend: -nk', description: 'Chá»¯ \'n\' Ä‘Æ°á»£c Ä‘á»c lÃ  /Å‹/ (giá»‘ng "ng") trÆ°á»›c chá»¯ \'k\'.',
              examples: [
                  { word: 'pink', phonetic: '/pÉªÅ‹k/', meaning: 'mÃ u há»“ng', emoji: 'ðŸŒ¸' },
                  { word: 'bank', phonetic: '/bÃ¦Å‹k/', meaning: 'ngÃ¢n hÃ ng', emoji: 'ðŸ¦' },
                  { word: 'think', phonetic: '/Î¸ÉªÅ‹k/', meaning: 'suy nghÄ©', emoji: 'ðŸ¤”' },
              ],
          },
          {
              letter: 'st', sound: '/st/', title: 'Ending Blend: -st', description: 'Káº¿t thÃºc báº±ng Ã¢m /s/ vÃ  /t/.',
              examples: [
                  { word: 'nest', phonetic: '/nest/', meaning: 'cÃ¡i tá»•', emoji: 'ë‘¥ì§€' },
                  { word: 'fast', phonetic: '/fÉ‘Ëst/', meaning: 'nhanh', emoji: 'â©' },
                  { word: 'list', phonetic: '/lÉªst/', meaning: 'danh sÃ¡ch', emoji: 'ðŸ“' },
              ],
          },
          {
              letter: 'sk', sound: '/sk/', title: 'Ending Blend: -sk', description: 'Káº¿t thÃºc báº±ng Ã¢m /s/ vÃ  /k/.',
              examples: [
                  { word: 'mask', phonetic: '/mÃ¦sk/', meaning: 'máº·t náº¡', emoji: 'ðŸ˜·' },
                  { word: 'desk', phonetic: '/desk/', meaning: 'cÃ¡i bÃ n', emoji: 'ðŸ–¥ï¸' },
                  { word: 'ask', phonetic: '/É‘Ësk/', meaning: 'há»i', emoji: 'â“' },
              ],
          },
          {
              letter: 'mp', sound: '/mp/', title: 'Ending Blend: -mp', description: 'Káº¿t thÃºc báº±ng Ã¢m /m/ vÃ  /p/.',
              examples: [
                  { word: 'lamp', phonetic: '/lÃ¦mp/', meaning: 'cÃ¡i Ä‘Ã¨n', emoji: 'ðŸ’¡' },
                  { word: 'jump', phonetic: '/dÊ’ÊŒmp/', meaning: 'nháº£y', emoji: 'ðŸ¤¸' },
                  { word: 'camp', phonetic: '/kÃ¦mp/', meaning: 'cáº¯m tráº¡i', emoji: 'ðŸ•ï¸' },
              ],
          },
          {
              letter: 'ft', sound: '/ft/', title: 'Ending Blend: -ft', description: 'Káº¿t thÃºc báº±ng Ã¢m /f/ vÃ  /t/.',
              examples: [
                  { word: 'gift', phonetic: '/É¡Éªft/', meaning: 'mÃ³n quÃ ', emoji: 'ðŸŽ' },
                  { word: 'left', phonetic: '/left/', meaning: 'bÃªn trÃ¡i', emoji: 'â¬…ï¸' },
                  { word: 'soft', phonetic: '/sÉ’ft/', meaning: 'má»m', emoji: 'ðŸ§¸' },
              ],
          },
      ]
  },
  {
      title: 'Quy táº¯c Magic E (E cÃ¢m)',
      sounds: [
          {
              letter: 'a',
              sound: '/eÉª/',
              title: 'Magic E: a_e',
              description: 'Chá»¯ \'e\' cÃ¢m á»Ÿ cuá»‘i lÃ m cho chá»¯ \'a\' Ä‘á»c thÃ nh tÃªn cá»§a nÃ³, /eÉª/ (giá»‘ng "Ã¢y").\nVÃ­ dá»¥: cap /kÃ¦p/ -> cape /keÉªp/',
              examples: [
                  { word: 'cake', phonetic: '/keÉªk/', meaning: 'bÃ¡nh ngá»t', emoji: 'ðŸ°' },
                  { word: 'name', phonetic: '/neÉªm/', meaning: 'tÃªn', emoji: 'ðŸ“›' },
                  { word: 'gate', phonetic: '/É¡eÉªt/', meaning: 'cÃ¡i cá»•ng', emoji: 'â›©ï¸' },
                  { word: 'wave', phonetic: '/weÉªv/', meaning: 'lÃ n sÃ³ng', emoji: 'ðŸŒŠ' },
              ],
          },
          {
              letter: 'i',
              sound: '/aÉª/',
              title: 'Magic E: i_e',
              description: 'Chá»¯ \'e\' cÃ¢m á»Ÿ cuá»‘i lÃ m cho chá»¯ \'i\' Ä‘á»c thÃ nh tÃªn cá»§a nÃ³, /aÉª/ (giá»‘ng "ai").\nVÃ­ dá»¥: pin /pÉªn/ -> pine /paÉªn/',
              examples: [
                  { word: 'bike', phonetic: '/baÉªk/', meaning: 'xe Ä‘áº¡p', emoji: 'ðŸš²' },
                  { word: 'time', phonetic: '/taÉªm/', meaning: 'thá»i gian', emoji: 'â°' },
                  { word: 'five', phonetic: '/faÉªv/', meaning: 'sá»‘ nÄƒm', emoji: '5ï¸âƒ£' },
                  { word: 'ride', phonetic: '/raÉªd/', meaning: 'cÆ°á»¡i, Ä‘i xe', emoji: 'ðŸ‡' },
              ],
          },
          {
              letter: 'o',
              sound: '/É™ÊŠ/',
              title: 'Magic E: o_e',
              description: 'Chá»¯ \'e\' cÃ¢m á»Ÿ cuá»‘i lÃ m cho chá»¯ \'o\' Ä‘á»c thÃ nh tÃªn cá»§a nÃ³, /É™ÊŠ/ (giá»‘ng "Ã¢u").\nVÃ­ dá»¥: hop /hÉ’p/ -> hope /hÉ™ÊŠp/',
              examples: [
                  { word: 'home', phonetic: '/hÉ™ÊŠm/', meaning: 'nhÃ ', emoji: 'ðŸ ' },
                  { word: 'hope', phonetic: '/hÉ™ÊŠp/', meaning: 'hy vá»ng', emoji: 'ðŸ™' },
                  { word: 'rope', phonetic: '/rÉ™ÊŠp/', meaning: 'dÃ¢y thá»«ng', emoji: 'ë°§ì¤„' },
                  { word: 'nose', phonetic: '/nÉ™ÊŠz/', meaning: 'cÃ¡i mÅ©i', emoji: 'ðŸ‘ƒ' },
              ],
          },
          {
              letter: 'u',
              sound: '/u:/ or /ju:/',
              title: 'Magic E: u_e',
              description: 'Chá»¯ \'e\' cÃ¢m á»Ÿ cuá»‘i lÃ m cho chá»¯ \'u\' Ä‘á»c thÃ nh tÃªn cá»§a nÃ³, /u:/ hoáº·c /ju:/ (giá»‘ng "u" hoáº·c "iu").\nVÃ­ dá»¥: cub /kÊŒb/ -> cube /kjuËb/',
              examples: [
                  { word: 'rule', phonetic: '/ruËl/', meaning: 'quy táº¯c', emoji: 'ðŸ“œ' },
                  { word: 'June', phonetic: '/dÊ’uËn/', meaning: 'thÃ¡ng sÃ¡u', emoji: 'ðŸ“…' },
                  { word: 'cute', phonetic: '/kjuËt/', meaning: 'dá»… thÆ°Æ¡ng', emoji: 'ðŸ¥°' },
                  { word: 'huge', phonetic: '/hjuËdÊ’/', meaning: 'khá»•ng lá»“', emoji: 'ðŸ˜' },
              ],
          },
          {
              letter: 'e',
              sound: '/i:/',
              title: 'Magic E: e_e',
              description: 'TrÆ°á»ng há»£p nÃ y hiáº¿m gáº·p, nhÆ°ng chá»¯ \'e\' cÃ¢m cÃ³ thá»ƒ lÃ m cho chá»¯ \'e\' Ä‘áº§u tiÃªn Ä‘á»c thÃ nh Ã¢m dÃ i /i:/ (giá»‘ng "i" dÃ i).',
              examples: [
                  { word: 'these', phonetic: '/Ã°iËz/', meaning: 'nhá»¯ng cÃ¡i nÃ y', emoji: 'ðŸ‘‡' },
                  { word: 'Pete', phonetic: '/piËt/', meaning: 'tÃªn ngÆ°á»i', emoji: 'ðŸ‘¨' },
                  { word: 'complete', phonetic: '/kÉ™mËˆpliËt/', meaning: 'hoÃ n thÃ nh', emoji: 'âœ…' },
              ],
          },
      ]
  }
];

// Icons from components/Icons.tsx
const SpeakerIcon = ({ className }) => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    className={className}
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
    strokeWidth={2}
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"
    />
  </svg>
);

const CheckCircleIcon = ({ className }) => (
    <svg xmlns="http://www.w3.org/2000/svg" className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
);

const XCircleIcon = ({ className }) => (
    <svg xmlns="http://www.w3.org/2000/svg" className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
);

const ChevronDownIcon = ({ className }) => (
    <svg xmlns="http://www.w3.org/2000/svg" className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M19 9l-7 7-7-7" />
    </svg>
);

const MenuIcon = ({ className }) => (
    <svg xmlns="http://www.w3.org/2000/svg" className={className} fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M4 6h16M4 12h16M4 18h16" />
    </svg>
);


// Hook from hooks/useSpeech.ts
const useSpeech = () => {
  const [voices, setVoices] = useState([]);
  const [selectedVoice, setSelectedVoice] = useState(null);

  useEffect(() => {
    const handleVoicesChanged = () => {
      const availableVoices = window.speechSynthesis.getVoices()
        .filter(voice => voice.lang.startsWith('en-'));
      setVoices(availableVoices);
      if (!selectedVoice && availableVoices.length > 0) {
        const defaultVoice = availableVoices.find(v => v.name.includes('Google') && v.lang === 'en-US') || availableVoices.find(v => v.lang === 'en-US') || availableVoices[0];
        setSelectedVoice(defaultVoice);
      }
    };
    
    if (speechSynthesis.onvoiceschanged !== undefined) {
        speechSynthesis.onvoiceschanged = handleVoicesChanged;
    }
    handleVoicesChanged(); 

    return () => {
      if (window.speechSynthesis) {
        window.speechSynthesis.onvoiceschanged = null;
      }
    };
  }, []);

  const speak = useCallback((text, onEnd) => {
    if (!window.speechSynthesis) {
      console.warn('Speech Synthesis not supported.');
      return;
    }
    if (!selectedVoice) {
      console.warn('No voice selected yet.');
      return;
    }
    
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.voice = selectedVoice;
    utterance.rate = 0.9;
    utterance.pitch = 1.1;

    if (onEnd) {
      utterance.onend = onEnd;
    }

    window.speechSynthesis.cancel();
    window.speechSynthesis.speak(utterance);
  }, [selectedVoice]);

  return { speak, voices, selectedVoice, setSelectedVoice };
};


// Component from components/WelcomeScreen.tsx
const WelcomeScreen = ({ onStart }) => {
  const [name, setName] = useState('');

  const handleSubmit = (e) => {
    e.preventDefault();
    onStart(name);
  };

  return (
    <div className="flex items-center justify-center h-screen bg-gradient-to-br from-sky-400 to-blue-600">
      <div className="w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-2xl text-center transform transition-all hover:scale-105 duration-300">
        <div className="space-y-2">
            <h1 className="text-4xl font-bold text-slate-800">Phonetics Adventure</h1>
            <p className="text-slate-500">Your journey to perfect English pronunciation starts here!</p>
        </div>
        <form onSubmit={handleSubmit} className="space-y-6">
          <div>
            <label htmlFor="name" className="sr-only">Your Name</label>
            <input
              id="name"
              type="text"
              value={name}
              onChange={(e) => setName(e.target.value)}
              placeholder="Enter your name"
              required
              className="w-full px-4 py-3 text-lg text-center border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"
            />
          </div>
          <button
            type="submit"
            className="w-full px-6 py-3 text-lg font-semibold text-white bg-sky-500 rounded-lg hover:bg-sky-600 focus:outline-none focus:ring-4 focus:ring-sky-300 transform hover:-translate-y-1 transition-all duration-300 shadow-lg"
          >
            Let's Go!
          </button>
        </form>
      </div>
    </div>
  );
};

// Component from components/QuizCard.tsx
const QuizCard = ({ sound, word, onCorrect, speak }) => {
  const [selected, setSelected] = useState(null);
  const [status, setStatus] = useState('idle');

  const correctLetter = useMemo(() => {
    const letter = sound.letter.toLowerCase();
    if(letter === 'q') return 'qu';
    return letter;
  }, [sound.letter]);
  
  const wordParts = useMemo(() => {
    const wordLower = word.word.toLowerCase();
    const index = wordLower.indexOf(correctLetter);
    if (index === -1) return [wordLower, ''];
    return [
      wordLower.substring(0, index),
      wordLower.substring(index + correctLetter.length),
    ];
  }, [word.word, correctLetter]);

  const options = useMemo(() => {
    const generateOptions = (correct) => {
        const letter = correct.toLowerCase();
        let pool;
        
        if (['a', 'e', 'i', 'o', 'u'].includes(letter[0])) {
            pool = ['a', 'e', 'i', 'o', 'u'].filter(v => v !== letter);
        } else {
            pool = 'bcdfghjklmnprstvwxyz'.split('').filter(c => c !== letter[0]);
            if (letter === 'qu') pool = ['q', 'k', 'wh', ...pool].filter(c => c !== letter);
        }

        const opts = new Set([letter]);
        while (opts.size < 4 && pool.length > 0) {
            const randomIndex = Math.floor(Math.random() * pool.length);
            opts.add(pool.splice(randomIndex, 1)[0]);
        }
        return Array.from(opts).sort(() => Math.random() - 0.5);
    };
    return generateOptions(correctLetter);
  }, [correctLetter]);

  const playSound = useCallback(() => {
    speak(word.word);
  }, [speak, word.word]);

  useEffect(() => {
    const introSpeech = () => {
        speak(`What's the missing sound in ${word.word}?`, playSound);
    }
    const timer = setTimeout(introSpeech, 500);
    return () => clearTimeout(timer);
  }, [word.word, playSound, speak]);
  
  const handleSelect = (option) => {
    if (status !== 'idle') return;

    setSelected(option);
    if (option.toLowerCase() === correctLetter) {
      setStatus('correct');
      speak("Correct!", () => {
          speak(word.word, onCorrect);
      });
    } else {
      setStatus('incorrect');
      speak('Try again.');
      setTimeout(() => {
          setStatus('idle');
          setSelected(null);
      }, 1000);
    }
  };

  const getButtonClass = (option) => {
    const baseClass = "w-full text-2xl font-bold py-4 px-6 rounded-xl shadow-md transition-all duration-300 transform flex items-center justify-center";
    if (status === 'idle') {
        return `${baseClass} bg-white hover:bg-sky-100 hover:-translate-y-1 text-slate-700`;
    }
    if (selected !== option) {
        return `${baseClass} bg-slate-200 text-slate-500`;
    }
    if (status === 'correct') {
        return `${baseClass} bg-green-500 text-white scale-105`;
    }
    if (status === 'incorrect') {
        return `${baseClass} bg-red-500 text-white animate-shake`;
    }
    return baseClass;
  };

  return (
    <div className="bg-white p-6 sm:p-8 rounded-2xl shadow-xl w-full">
      <div className="flex justify-between items-center mb-6">
        <div className="text-xl">
          <span className="font-semibold text-slate-600">
            {word.emoji && <span className="mr-2 text-2xl">{word.emoji}</span>}
            {word.meaning}
          </span>
          <span className="text-slate-400 ml-2">{word.phonetic}</span>
        </div>
        <button
          onClick={playSound}
          className="p-3 bg-sky-100 rounded-full text-sky-500 hover:bg-sky-200 transition"
          aria-label={`Listen to the word ${word.word}`}
        >
          <SpeakerIcon className="w-6 h-6" />
        </button>
      </div>

      <div className="bg-slate-100 rounded-lg p-8 mb-8 text-center">
        <p className="text-5xl font-bold tracking-widest text-slate-700">
          {wordParts[0]}
          <span className="inline-block text-center mx-2 text-sky-500 bg-sky-200 rounded-lg px-4 py-2 w-16 sm:w-20">
             {status === 'correct' ? correctLetter : '_'}
          </span>
          {wordParts[1]}
        </p>
      </div>

      <div className="grid grid-cols-2 gap-4">
        {options.map((option) => (
          <button
            key={option}
            onClick={() => handleSelect(option)}
            disabled={status !== 'idle'}
            className={getButtonClass(option)}
          >
            {option}
            {selected === option && status === 'correct' && <CheckCircleIcon className="w-7 h-7 ml-2"/>}
            {selected === option && status === 'incorrect' && <XCircleIcon className="w-7 h-7 ml-2"/>}
          </button>
        ))}
      </div>
       <style>{`
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .animate-shake {
            animation: shake 0.5s ease-in-out;
        }
       `}</style>
    </div>
  );
};

// Component from components/TopicQuiz.tsx
const TopicQuiz = ({ topic, user, onComplete, speak }) => {
  const [questions, setQuestions] = useState([]);
  const [currentIndex, setCurrentIndex] = useState(0);
  const [selectedOption, setSelectedOption] = useState(null);
  const [status, setStatus] = useState('idle');
  const [score, setScore] = useState(0);
  const [quizFinished, setQuizFinished] = useState(false);

  useEffect(() => {
    const selectedQuestions = topic.sounds
      .filter(sound => sound.sound && !sound.sound.startsWith('(') && sound.examples.length > 0)
      .map(sound => {
        const randomExample = sound.examples[Math.floor(Math.random() * sound.examples.length)];
        return {
          ...randomExample,
          correctSound: sound.sound,
        };
      })
      .sort(() => 0.5 - Math.random());

    const allSoundsInTopic = [...new Set(topic.sounds.map(s => s.sound).filter(s => s && !s.startsWith('(')))];

    const generatedQuestions = selectedQuestions.map(q => {
      const distractors = allSoundsInTopic
        .filter(s => s !== q.correctSound)
        .sort(() => 0.5 - Math.random())
        .slice(0, 3);
      
      const options = [q.correctSound, ...distractors].sort(() => 0.5 - Math.random());
      
      return { ...q, options };
    });

    setQuestions(generatedQuestions);
    setCurrentIndex(0);
    setSelectedOption(null);
    setStatus('idle');
    setScore(0);
    setQuizFinished(false);

  }, [topic]);

  const handleSelect = (option) => {
    if (status !== 'idle') return;
    setSelectedOption(option);
    if (option === questions[currentIndex].correctSound) {
      setStatus('correct');
      setScore(prev => prev + 1);
      speak("Correct!");
    } else {
      setStatus('incorrect');
      speak("Incorrect.");
    }
  };

  const handleNextQuestion = () => {
    if (currentIndex < questions.length - 1) {
      setCurrentIndex(prev => prev + 1);
      setStatus('idle');
      setSelectedOption(null);
    } else {
      setQuizFinished(true);
    }
  };
  
  const playWordSound = useCallback(() => {
      if (questions.length > 0) {
        speak(questions[currentIndex].word);
      }
  }, [speak, questions, currentIndex]);

  if (questions.length === 0) {
    return (
      <div className="text-center p-8 bg-white rounded-xl shadow-lg flex flex-col items-center">
          <h2 className="text-2xl font-bold text-slate-700">This topic is for practice only.</h2>
          <p className="mt-2 text-slate-600">Let's move on to the next one!</p>
          <button 
              onClick={onComplete}
              className="mt-6 px-8 py-3 text-lg font-semibold text-white bg-sky-500 rounded-lg hover:bg-sky-600 focus:outline-none focus:ring-4 focus:ring-sky-300 transform hover:-translate-y-1 transition-all duration-300 shadow-lg"
          >
              Continue
          </button>
      </div>
    );
  }
  
  if (quizFinished) {
    return (
      <div className="text-center p-8 bg-white rounded-xl shadow-lg flex flex-col items-center">
        <h2 className="text-3xl font-bold text-green-500">Topic Quiz Complete!</h2>
        <p className="mt-2 text-2xl text-slate-600">Great job, {user}!</p>
        <p className="mt-4 text-4xl font-bold text-sky-600">
          Your Score: {score} / {questions.length}
        </p>
        <div className="text-6xl mt-4">
            {score / questions.length > 0.7 ? 'ðŸŽ‰' : 'ðŸ‘'}
        </div>
        <button 
            onClick={onComplete}
            className="mt-8 px-8 py-3 text-lg font-semibold text-white bg-sky-500 rounded-lg hover:bg-sky-600 focus:outline-none focus:ring-4 focus:ring-sky-300 transform hover:-translate-y-1 transition-all duration-300 shadow-lg"
        >
            Continue to Next Topic
        </button>
      </div>
    );
  }

  const currentQuestion = questions[currentIndex];
  const phoneticWithBlank = currentQuestion.phonetic.replace(currentQuestion.correctSound, '___');

  const getButtonClass = (option) => {
    const baseClass = "w-full text-2xl font-bold py-4 px-6 rounded-xl shadow-md transition-all duration-300 transform flex items-center justify-center";
    if (status === 'idle') {
        return `${baseClass} bg-white hover:bg-sky-100 hover:-translate-y-1 text-slate-700`;
    }
    if (option === currentQuestion.correctSound) {
        return `${baseClass} bg-green-500 text-white scale-105`;
    }
    if (option === selectedOption) {
        return `${baseClass} bg-red-500 text-white`;
    }
    return `${baseClass} bg-slate-200 text-slate-500`;
  };

  return (
    <div className="bg-white p-6 sm:p-8 rounded-2xl shadow-xl w-full">
      <div className="flex justify-between items-center mb-4">
        <h2 className="text-xl font-bold text-sky-700">Topic Quiz: {topic.title}</h2>
        <p className="text-lg font-semibold text-slate-500">Question {currentIndex + 1} / {questions.length}</p>
      </div>
      <div className="w-full h-2 bg-slate-200 rounded-full mb-6">
        <div className="h-2 bg-sky-500 rounded-full transition-all duration-300" style={{ width: `${((currentIndex + 1) / questions.length) * 100}%` }}></div>
      </div>
      
      <div className="flex justify-between items-center mb-6">
        <div className="text-xl">
          <span className="font-semibold text-slate-600">
            {currentQuestion.emoji && <span className="mr-2 text-2xl">{currentQuestion.emoji}</span>}
            Which sound completes the transcription?
          </span>
        </div>
        <button
          onClick={playWordSound}
          className="p-3 bg-sky-100 rounded-full text-sky-500 hover:bg-sky-200 transition"
          aria-label={`Listen to the word ${currentQuestion.word}`}
        >
          <SpeakerIcon className="w-6 h-6" />
        </button>
      </div>

      <div className="bg-slate-100 rounded-lg p-8 mb-8 text-center">
        <p className="text-5xl font-bold tracking-widest text-slate-700">
            {currentQuestion.word}
        </p>
         <p className="text-3xl font-mono text-slate-500 mt-2">
            {phoneticWithBlank.split('___').map((part, i) => 
                <React.Fragment key={i}>
                    {part}
                    {i < phoneticWithBlank.split('___').length - 1 && <span className="inline-block text-center text-sky-500 bg-sky-200 rounded-lg px-4 py-1 w-20 sm:w-24">?</span>}
                </React.Fragment>
            )}
        </p>
      </div>

      <div className="grid grid-cols-2 gap-4">
        {currentQuestion.options.map((option) => (
          <button
            key={option}
            onClick={() => handleSelect(option)}
            disabled={status !== 'idle'}
            className={getButtonClass(option)}
          >
            {option}
            {selectedOption === option && status === 'correct' && <CheckCircleIcon className="w-7 h-7 ml-2"/>}
            {selectedOption === option && status === 'incorrect' && <XCircleIcon className="w-7 h-7 ml-2"/>}
          </button>
        ))}
      </div>
      
      {status !== 'idle' && (
        <div className="mt-6 text-center">
            <button 
                onClick={handleNextQuestion}
                className="px-8 py-3 text-lg font-semibold text-white bg-sky-500 rounded-lg hover:bg-sky-600 focus:outline-none focus:ring-4 focus:ring-sky-300 transform hover:-translate-y-1 transition-all duration-300 shadow-lg"
            >
                {currentIndex < questions.length - 1 ? 'Next Question' : 'Finish Quiz'}
            </button>
        </div>
      )}
    </div>
  );
};


// Component from components/TopicSelector.tsx
const TopicSelector = ({
  topics,
  currentTopicIndex,
  currentSoundIndex,
  onSelectSound,
  voices,
  selectedVoice,
  setSelectedVoice,
}) => {
  const [expandedTopics, setExpandedTopics] = useState([0]);
  const [isOpen, setIsOpen] = useState(false);

  const toggleTopic = (index) => {
    setExpandedTopics((prev) =>
      prev.includes(index) ? prev.filter((i) => i !== index) : [...prev, index]
    );
  };

  const handleSelect = (topicIdx, soundIdx) => {
    onSelectSound(topicIdx, soundIdx);
    setIsOpen(false);
  }

  const content = (
      <nav className="p-4 space-y-4 flex flex-col h-full">
        <div className="flex-grow">
            <h2 className="text-2xl font-bold text-white">Topics</h2>
            {topics.map((topic, topicIdx) => (
            <div key={topicIdx} className="py-2">
                <button
                onClick={() => toggleTopic(topicIdx)}
                className="w-full flex justify-between items-center text-left px-3 py-2 text-white font-semibold rounded-md hover:bg-sky-600 transition"
                >
                <span>{topic.title}</span>
                <ChevronDownIcon
                    className={`w-5 h-5 transition-transform ${
                    expandedTopics.includes(topicIdx) ? 'rotate-180' : ''
                    }`}
                />
                </button>
                {expandedTopics.includes(topicIdx) && (
                <ul className="mt-2 ml-4 space-y-1">
                    {topic.sounds.map((sound, soundIdx) => {
                    const isActive =
                        topicIdx === currentTopicIndex && soundIdx === currentSoundIndex;
                    return (
                        <li key={soundIdx}>
                        <button
                            onClick={() => handleSelect(topicIdx, soundIdx)}
                            className={`w-full text-left px-3 py-2 rounded-md transition ${
                            isActive
                                ? 'bg-white text-sky-700 font-bold'
                                : 'text-sky-100 hover:bg-sky-600'
                            }`}
                        >
                            {sound.title}
                        </button>
                        </li>
                    );
                    })}
                </ul>
                )}
            </div>
            ))}
        </div>
        <div className="flex-shrink-0 pt-4 border-t border-sky-600">
            <label htmlFor="voice-select" className="block text-sm font-medium text-sky-100 mb-2">
                Reader's Voice
            </label>
            <select
                id="voice-select"
                value={selectedVoice ? selectedVoice.voiceURI : ''}
                onChange={(e) => {
                    const newVoice = voices.find(v => v.voiceURI === e.target.value);
                    if (newVoice) {
                        setSelectedVoice(newVoice);
                    }
                }}
                className="w-full bg-sky-800 text-white border border-sky-600 rounded-md p-2 text-sm focus:ring-2 focus:ring-white focus:outline-none"
                aria-label="Select a voice for the reader"
            >
                {voices.length === 0 && <option>Loading voices...</option>}
                {voices.map(voice => (
                    <option key={voice.voiceURI} value={voice.voiceURI}>
                        {voice.name} ({voice.lang})
                    </option>
                ))}
            </select>
        </div>
      </nav>
  );

  return (
    <React.Fragment>
        <div className="md:hidden p-4 bg-sky-700 text-white flex justify-between items-center">
            <h1 className="text-xl font-bold">Phonetics Adventure</h1>
            <button onClick={() => setIsOpen(!isOpen)}><MenuIcon className="w-6 h-6"/></button>
        </div>
        
        {/* Mobile menu */}
        <div className={`fixed top-0 left-0 h-full w-full bg-black bg-opacity-50 z-40 md:hidden transition-opacity ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`} onClick={() => setIsOpen(false)}></div>
        <div className={`fixed top-0 left-0 h-full w-72 bg-sky-700 text-white z-50 transform transition-transform md:hidden ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}>
            {content}
        </div>
        
        {/* Desktop sidebar */}
        <aside className="hidden md:block w-80 bg-sky-700 text-white flex-shrink-0 h-screen overflow-y-auto">
            {content}
        </aside>
    </React.Fragment>
  );
};


// Component from components/LearningScreen.tsx
const LearningScreen = ({ user, speechControls }) => {
  const [topicIndex, setTopicIndex] = useState(0);
  const [soundIndex, setSoundIndex] = useState(0);
  const [wordIndex, setWordIndex] = useState(0);
  const [sessionCompleted, setSessionCompleted] = useState(false);
  const [inTopicQuiz, setInTopicQuiz] = useState(false);

  const currentTopic = phoneticData[topicIndex];
  const currentSound = currentTopic.sounds[soundIndex];
  const currentWord = currentSound.examples[wordIndex];

  const handleSelectSound = (newTopicIndex, newSoundIndex) => {
    setTopicIndex(newTopicIndex);
    setSoundIndex(newSoundIndex);
    setWordIndex(0);
    setSessionCompleted(false);
    setInTopicQuiz(false);
  };
  
  const handleCorrectAnswer = () => {
    setTimeout(() => {
        if (wordIndex < currentSound.examples.length - 1) {
            setWordIndex(wordIndex + 1);
        } else {
            setSessionCompleted(true);
        }
    }, 1200);
  };

  const handleNextSound = () => {
      const isLastSoundInTopic = soundIndex >= phoneticData[topicIndex].sounds.length - 1;

      if (isLastSoundInTopic) {
          setInTopicQuiz(true);
      } else {
          handleSelectSound(topicIndex, soundIndex + 1);
      }
  };

  const handleQuizComplete = () => {
      const nextTopicIndex = (topicIndex + 1) % phoneticData.length;
      handleSelectSound(nextTopicIndex, 0);
  };

  const ProgressIndicator = useMemo(() => {
    return (
      <div className="flex items-center space-x-2">
        {currentSound.examples.map((_, index) => (
          <div
            key={index}
            className={`h-2 rounded-full transition-all duration-300 ${
              index < wordIndex ? 'bg-green-500 w-6' : 
              index === wordIndex ? 'bg-sky-500 w-10' : 'bg-slate-300 w-6'
            }`}
          />
        ))}
      </div>
    );
  }, [wordIndex, currentSound.examples]);


  return (
    <div className="flex flex-col md:flex-row min-h-screen">
      <TopicSelector
        topics={phoneticData}
        currentTopicIndex={topicIndex}
        currentSoundIndex={soundIndex}
        onSelectSound={handleSelectSound}
        voices={speechControls.voices}
        selectedVoice={speechControls.selectedVoice}
        setSelectedVoice={speechControls.setSelectedVoice}
      />
      <main className="flex-1 p-4 sm:p-6 md:p-10 flex flex-col items-center justify-center">
        <div className="w-full max-w-2xl">
            {inTopicQuiz ? (
                <TopicQuiz
                    topic={currentTopic}
                    user={user}
                    onComplete={handleQuizComplete}
                    speak={speechControls.speak}
                />
            ) : (
                <React.Fragment>
                    <header className="mb-6 text-center">
                        <h1 className="text-3xl font-bold text-sky-600">{currentSound.title}</h1>
                        <p className="text-slate-500 mt-2 whitespace-pre-line">{currentSound.description}</p>
                    </header>
                    {!sessionCompleted ? (
                        <React.Fragment>
                        <QuizCard
                            key={`${topicIndex}-${soundIndex}-${wordIndex}`}
                            sound={currentSound}
                            word={currentWord}
                            onCorrect={handleCorrectAnswer}
                            speak={speechControls.speak}
                        />
                        <div className="mt-6 flex justify-center">
                            {ProgressIndicator}
                        </div>
                        </React.Fragment>
                    ) : (
                        <div className="text-center p-8 bg-white rounded-xl shadow-lg flex flex-col items-center">
                            <h2 className="text-3xl font-bold text-green-500">Excellent Work, {user}!</h2>
                            <p className="mt-2 text-slate-600">You've mastered the <span className="font-semibold">{currentSound.sound}</span> sound.</p>
                            <button 
                                onClick={handleNextSound}
                                className="mt-6 px-8 py-3 text-lg font-semibold text-white bg-sky-500 rounded-lg hover:bg-sky-600 focus:outline-none focus:ring-4 focus:ring-sky-300 transform hover:-translate-y-1 transition-all duration-300 shadow-lg"
                            >
                                Next
                            </button>
                        </div>
                    )}
                </React.Fragment>
            )}
        </div>
      </main>
    </div>
  );
};


// Component from App.tsx
const App = () => {
  const [user, setUser] = useState(null);
  const speechControls = useSpeech();

  const handleStart = (name) => {
    if (name.trim()) {
      setUser(name.trim());
    }
  };

  return (
    <div className="bg-slate-100 min-h-screen text-slate-800">
      {user ? (
        <LearningScreen user={user} speechControls={speechControls} />
      ) : (
        <WelcomeScreen onStart={handleStart} />
      )}
    </div>
  );
};


// Root rendering logic from index.tsx
const rootElement = document.getElementById('root');
if (!rootElement) {
  throw new Error("Could not find root element to mount to");
}

const root = ReactDOM.createRoot(rootElement);
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

    </script>
  </body>
</html>
